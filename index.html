<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Производство Essential Star</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="components/oil-card.js"></script>
    <script src="components/supplies-card.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#4F46E5',
                        },
                        secondary: {
                            500: '#10B981',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <custom-navbar></custom-navbar>

    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-primary-500 mb-8 text-center">Производство Essential Star</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2">Универсальные расходники</h2>
                <custom-supplies-card></custom-supplies-card>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2">Разлито и упаковано</h2>
<div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Масло</label>
                        <select id="oil-select" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                            <option value="" disabled selected>Выберите масло</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Количество произведенных единиц</label>
                        <input type="number" id="production-count" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500" placeholder="0">
                    </div>
                    <button id="add-production" class="w-full bg-primary-500 hover:bg-primary-600 text-white py-2 px-4 rounded-md transition duration-200">
                        Зафиксировать
                    </button>
</div>
            </div>
        </div>
        <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-4">
                <h2 class="text-xl font-semibold text-gray-800">Остатки по маслам</h2>
                <div class="relative w-full md:w-64">
                    <input type="text" id="oil-search" placeholder="Поиск по маслам..." 
                           class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                    <i data-feather="search" class="absolute left-3 top-2.5 text-gray-400"></i>
                </div>
            </div>
            <div class="space-y-4" id="oil-accordion-container">
                <!-- Oil accordion items will be inserted here -->
            </div>
        </div>
<div class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2">Ручное редактирование остатков</h2>
            <div class="space-y-6">
                <div>
                    <h3 class="text-lg font-medium mb-2">Универсальные расходники</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="flex items-center">
                            <span class="w-32">Крышки:</span>
                            <input type="number" id="edit-lids" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            <button class="ml-2 bg-secondary-500 hover:bg-secondary-600 text-white py-2 px-3 rounded-md transition duration-200" onclick="updateSupplies('lids')">
                                <i data-feather="check"></i>
                            </button>
                        </div>
                        <div class="flex items-center">
                            <span class="w-32">Флакончики:</span>
                            <input type="number" id="edit-bottles" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            <button class="ml-2 bg-secondary-500 hover:bg-secondary-600 text-white py-2 px-3 rounded-md transition duration-200" onclick="updateSupplies('bottles')">
                                <i data-feather="check"></i>
                            </button>
                        </div>
                        <div class="flex items-center">
                            <span class="w-32">Инструкции:</span>
                            <input type="number" id="edit-manuals" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            <button class="ml-2 bg-secondary-500 hover:bg-secondary-600 text-white py-2 px-3 rounded-md transition duration-200" onclick="updateSupplies('manuals')">
                                <i data-feather="check"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-medium mb-2">Масла</h3>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <select id="edit-oil-select" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                                <option value="" disabled selected>Выберите масло</option>
                            </select>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="flex items-center">
                                <span class="w-32">Коробки:</span>
                                <input type="number" id="edit-boxes" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            </div>
                            <div class="flex items-center">
                                <span class="w-32">Этикетки:</span>
                                <input type="number" id="edit-labels" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            </div>
                            <div class="flex items-center">
                                <span class="w-32">Масло (мл):</span>
                                <input type="number" id="edit-oil" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                            </div>
                        </div>
                        <button id="update-oil" class="bg-secondary-500 hover:bg-secondary-600 text-white py-2 px-4 rounded-md transition duration-200">
                            Обновить данные
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <custom-footer></custom-footer>

    <script src="script.js"></script>
    <script>
        feather.replace();
    </script>
<script src="https://huggingface.co/deepsite/deepsite-badge.js"></script>
<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js";

  const firebaseConfig = {
  apiKey: "AIzaSyArBA1DUY-kksabrqDxQ5CYOSBcAVwEAqQ",
  authDomain: "my-first-project-dc4e5.firebaseapp.com",
  projectId: "my-first-project-dc4e5",
  storageBucket: "my-first-project-dc4e5.firebasestorage.app",
  messagingSenderId: "643846849382",
  appId: "1:643846849382:web:ca9ef5965e8816875afea7"
};

  // Инициализация
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Примеры функций:
  
  // СОХРАНИТЬ данные
  async function saveData(data) {
    try {
      const docRef = await addDoc(collection(db, "items"), data);
      console.log("Сохранено с ID:", docRef.id);
    } catch (e) {
      console.error("Ошибка добавления:", e);
    }
  }

  // ПОЛУЧИТЬ данные
  async function getAllData() {
    const querySnapshot = await getDocs(collection(db, "items"));
    querySnapshot.forEach((doc) => {
      console.log(doc.id, "=>", doc.data());
    });
  }

  // Пример использования:
  document.getElementById("saveBtn")?.addEventListener("click", () => {
    saveData({ text: document.getElementById("inputText").value });
  });

  document.getElementById("loadBtn")?.addEventListener("click", () => {
    getAllData();
  });
</script>
</body>
</html>
